<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

	    <record model="workflow.activity" id="act_submit">
	        <field name="wkf_id" ref="hr_holidays.wkf_holidays"/>
	        <field name="name">submit</field>
	        <field name="kind">function</field>
	        <field name="action">action_submit()</field>
	    </record>

	    <record model="workflow.transition" id="hr_holidays.holiday_draft2confirm">
	        <field name="act_from" ref="hr_holidays.act_draft"/>
	        <field name="act_to" ref="act_submit"/>
	        <field name="signal">submit</field>
	    </record>

	   <!-- <record model="workflow.transition" id="holiday_confirm2draft">
	        <field name="act_from" ref="hr_holidays.act_confirm"/>
	        <field name="act_to" ref="hr_holidays.act_draft"/>
	        <field name="signal">reset</field>
	    </record>-->

	    <record model="workflow.transition" id="holiday_submit2confirm">
	        <field name="act_from" ref="act_submit" />
	        <field name="act_to" ref="hr_holidays.act_confirm"/>
	    </record>

	    <record model="workflow.transition" id="hr_holidays.holiday_confirm2validate">
	        <field name="act_from" ref="hr_holidays.act_confirm" />
	        <field name="act_to" ref="hr_holidays.act_validate1" />
	        <field name="signal">validate</field>
	        <field name="condition">not check_sick_leave()</field>
	        <field name="group_id" ref=""/>
	    </record>

	    <record model="workflow.transition" id="hr_holidays.holiday_confirm2validate1">
	        <field name="act_from" ref="hr_holidays.act_confirm" />
	        <field name="act_to" ref="hr_holidays.act_validate1" />
	        <field name="signal">validate</field>
	        <field name="condition">check_sick_leave()</field>
	        <field name="group_id" ref=""/>
	    </record>

	   <!-- <record model="workflow.transition" id="hr_holidays.holiday_refuse2draft">
	        <field name="act_from" ref="hr_holidays.act_refuse" />
	        <field name="act_to" ref="hr_holidays.act_draft" />
	        <field name="signal">reset</field>
	        <field name="condition">type=='add'</field>
	        <field name="group_id" ref=""/>
	    </record>-->

	    <record model="workflow.transition" id="hr_holidays.holiday_validate2refuse"> <!-- 3. accepted->refused (refuse signal) -->
	        <field name="group_id" ref=""/>
	    </record>

	    <record model="workflow.transition" id="hr_holidays.holiday_validate1_validate"> <!-- 4. first_accepted -> accepted (second_validate  signal) -->
	        <field name="group_id" ref=""/>
	    </record>

	    <record model="workflow.transition" id="hr_holidays.holiday_validate1_refuse"> <!-- 4. first_accepted->refused (refuse signal) -->
	        <field name="group_id" ref=""/>
	    </record>

	    <record model="workflow.transition" id="hr_holidays.holiday_confirm2refuse"> <!-- 2. submitted->refused (refuse signal) -->
	        <field name="group_id" ref=""/>
	    </record>

    </data>
</openerp>
